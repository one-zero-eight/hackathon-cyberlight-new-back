# Кибер.База
#### Учись, Играй, Защищайся!
![](https://cyber.innohassle.ru/cyberbase.jpg)

### Стек
- Python 3.11
- FastAPI
- SQLAlchemy 2.0+ (async)
- PostgreSQL
- Alembic
- fastapi-mock*

*самописная либа для быстрых моков АПИ

### Архитектура

![](https://github.com/one-zero-eight/hackathon-cyberlight-new-back/assets/49876341/f75c9488-4290-4d15-be18-51858bd622bf)


### Структура кода
/alembic - конфиг алембика и миграции

/deploy - заготовки на CI/CD

/scripts - полезные скрипты, которые решили не сувать в /src

/src - исходники

--/api - по большей части конфигурации и инициализации
  
--/modules - модули приложения со всем содержимым (старались сильно много не плодить, в целом легко разбивается при желании)
  
--/storages - БД, модельки и predefined наполнение моделек 

/static - статика


### Запуск

1. Ознакомиться со структурой settings.yaml посредством чтения settings.schema.yaml (там все валидации и комментарии).
2. Далее - озаботиться поднятием своего SMTP сервера.
3. Заполнить конфиги в соответствии с .example примерами.
4. Поднять докер. 


### Структуры данных
Основные модели в БД:
1. Users. Базовая модель пользователя.
2. PersonalAccount + его производные. Хранение расширенной информации о пользователе и его ЛК, связки с другими сущностями.
3. Lesson + его производные. Хранение информации о уроках и тасках + связка с прочими сущностями.
4. Consultation + его производные. Хранение информации о экспертах и записях к ним (консультациям).
5. Event + его производные. Хранение информации о событиях и их участниках.
